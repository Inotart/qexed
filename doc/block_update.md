# 方块更新
尽管目前我们连地图加载都还没实现,但不妨碍我们提前设计好我们的计算机制。
qexed 将重点针对方块更新进行优化，使得服务器可以在相同的配置下处理更多方块。
# 玩家观察态
当我们和这个物品交互时，其运行逻辑从预计算变成实时运算。
这样子的好处是一些重复类的工作我们可以有效减少cpu占用。
仅在需要使用时使用。
# 方块列表
## 红石类
暂不实现,等后期其他的做完了再考虑，此外对于红石，玩家观察态将不会生效，因为红石属于高频运算。
### 预编译
红石类操作我们采取预编译的模式，即将红石部分预先计算结果，再根据结果以及耗时处理。
### 不可视红石
我们已经预编译了，而现在渲染红石那我们编译不就白做了吗。故我们规定红石粉渲染规则如下:
1. 有可能激活的红石渲染
2. 即使这里没有信号，我们也渲染
3. 当玩家修改红石结构时，同步更新其他红石为未激活，直到预编译完成
### 红石火把
红石火把我们规定默认放下去不亮，激活状态渲染逻辑与红石粉一致。
### 漏斗()
漏斗中，我们会有
## 农作物类型
根据wiki 上[作物机制](https://zh.minecraft.wiki/w/%E4%BD%9C%E7%89%A9%E6%9C%BA%E5%88%B6#%E8%80%95%E5%9C%B0%E4%BD%9C%E7%89%A9)
我们将分为如下几个类别进行实现
### 简单概率生长
可可豆、下界疣、甜浆果丛使用的生长机制较为简单，没有耕地作物的周遭条件牵制与多层作物的随机生长度。每次随机刻时，这些作物有固定的概率进行生长尝试，直到达到最大生长等级为止。--wiki
我们使用Pseudo Random Distribution 状态机实现(直接随机20%也行，我随机刻都使用固定函数生成了,这个随机概率用这个状态机不过分吧)
#### 可可豆
对于可可豆，我们没有什么特殊的机制。
在玩家加载区块前，我们读取区块中保存的时间信息，将可可豆按照区块中的信息来处理成熟阶段。
例如昨天11:00记录在12:00完全成熟，那么今天玩家读取区块时，这个可可豆就应该是成熟状态。
在运行状态时，我们需要处理玩家观察态的情况。
